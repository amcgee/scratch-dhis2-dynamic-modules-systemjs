{"version":3,"sources":["webpack://vendor/./node_modules/@dhis2/app-service-config/build/es/lib.js","webpack://vendor/./node_modules/@dhis2/app-service-data/build/es/lib.js","webpack://vendor/./node_modules/@dhis2/app-service-alerts/build/es/lib.js","webpack://vendor/./node_modules/@dhis2/app-runtime/build/es/lib.js","webpack://vendor/external \"react\"","webpack://vendor/webpack/bootstrap","webpack://vendor/webpack/startup","webpack://vendor/webpack/runtime/define property getters","webpack://vendor/webpack/runtime/hasOwnProperty shorthand","webpack://vendor/webpack/runtime/make namespace object"],"names":["ConfigContext","baseUrl","apiVersion","useConfig","useContext","ConfigProvider","config","children","Provider","value","_defineProperty","obj","key","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","resolveDynamicQuery","resource","id","data","params","variables","InvalidQueryError","Error","errors","super","concat","map","e","join","this","details","validQueryKeys","validTypes","getResourceQueryErrors","type","query","includes","k","DataEngine","link","signal","onComplete","onError","names","queries","name","q","reduce","validateResourceQueries","Promise","all","executeResourceQuery","then","results","responses","out","response","idx","reduceResponses","catch","error","mutation","partial","getMutationFetchType","validateResourceQuery","FetchError","message","CustomDataLink","customData","failOnMiss","loadForever","options","customResource","resolve","result","parseStatus","async","status","json","statusText","joinPath","parts","part","replace","textPlainMatchers","freeze","__proto__","isReplyToMessageConversation","test","isCreateFeedbackMessage","isCreateOrUpdateInterpretation","resourcePattern","idPattern","isCommentOnInterpretation","isInterpretationCommentUpdate","idPatternLong","idPatternShort","isAddOrUpdateSystemOrUserSetting","addOrUpdateConfigurationProperty","match","isMetadataPackageInstallation","multipartFormDataMatchers","isFileResourceUpload","isMessageConversationAttachment","isStaticContentUpload","isAppInstall","isSvgConversion","requestHeadersForContentType","contentType","requestBodyForContentType","JSON","stringify","dataEntries","entries","formData","append","FormData","convertToFormData","getMethod","encodeQueryParameter","param","Array","isArray","encodeURIComponent","String","actionPrefix","queryToResourcePath","apiPath","base","startsWith","isAction","substr","makeActionPath","item","undefined","queryParametersMapToArray","queryParametersToQueryString","RestAPILink","path","url","fetch","credentials","headers","Accept","err","split","trim","toLowerCase","parseContentType","get","text","blob","fetchData","values","some","textPlainMatcher","resourceExpectsTextPlain","multipartFormDataMatcher","resourceExpectsMultipartFormData","requestContentType","method","body","queryToRequestOptions","errorMessage","console","reject","defaultContext","engine","DataContext","CustomDataProvider","context","useStaticInput","staticValue","warn","originalValue","useRef","setValue","useState","current","useEffect","useQueryExecutor","execute","initialVariables","singular","immediate","theExecute","state","setState","called","loading","abortControllersRef","abort","useCallback","controller","manualAbort","refetch","newVariables","AbortController","aborted","useDataEngine","empty","useDataMutation","lazy","theMutation","mutate","DataMutation","DataProvider","props","empty$1","useDataQuery","theQuery","DataQuery","AlertsContext","noop","defaultAlertsManager","remove","add","AlertsManagerContext","createAlertManagerAlert","alert","_remove","AlertsProvider","alerts","setAlerts","alertsManager","makeAlertsManager","useAlerts","useAlert","show","displayName","module","exports","__WEBPACK_EXTERNAL_MODULE__297__","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","d","definition","o","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag"],"mappings":"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","file":"vendor.dhis2-app-runtime.js","sourcesContent":["/* eslint-disable */\nimport React, { useContext } from 'react';\n\nconst ConfigContext = React.createContext({\n  baseUrl: '..',\n  apiVersion: 32\n});\n\nconst useConfig = () => useContext(ConfigContext);\n\nconst makeContext = config => config;\n\nconst ConfigProvider = ({\n  config,\n  children\n}) => /*#__PURE__*/React.createElement(ConfigContext.Provider, {\n  value: makeContext(config)\n}, children);\n\nexport { ConfigProvider, useConfig };\n//# sourceMappingURL=lib.js.map\n","/* eslint-disable */\nimport React, { useRef, useState, useEffect, useCallback, useContext } from 'react';\nimport { useConfig } from '@dhis2/app-service-config';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nconst getMutationFetchType = mutation => mutation.type === 'update' ? mutation.partial ? 'update' : 'replace' : mutation.type;\n\nconst resolveDynamicQuery = ({\n  resource,\n  id,\n  data,\n  params\n}, variables) => ({\n  resource,\n  id: typeof id === 'function' ? id(variables) : id,\n  data: typeof data === 'function' ? data(variables) : data,\n  params: typeof params === 'function' ? params(variables) : params\n});\n\nclass InvalidQueryError extends Error {\n  constructor(errors) {\n    super(\"Invalid query\\n\".concat(errors.map(e => ' - ' + e).join('\\n')));\n\n    _defineProperty(this, \"type\", 'invalid-query');\n\n    _defineProperty(this, \"details\", void 0);\n\n    this.details = errors;\n  }\n\n}\n\nconst validQueryKeys = ['resource', 'id', 'params', 'data'];\nconst validTypes = ['read', 'create', 'update', 'replace', 'delete'];\nconst getResourceQueryErrors = (type, query) => {\n  if (!validTypes.includes(type)) {\n    return [\"Unknown query or mutation type \".concat(type)];\n  }\n\n  if (typeof query !== 'object') {\n    return ['A query or mutation must be a javascript object'];\n  }\n\n  const errors = [];\n\n  if (!query.resource || typeof query.resource !== 'string') {\n    errors.push('Property resource must be a string');\n  }\n\n  if (type === 'create' && query.id) {\n    errors.push(\"Mutation type 'create' does not support property 'id'\");\n  }\n\n  if (query.id && typeof query.id !== 'string') {\n    errors.push('Property id must be a string');\n  }\n\n  if (query.params && typeof query.params !== 'object') {\n    errors.push('Property params must be an object');\n  }\n\n  if (type === 'delete' && query.data) {\n    errors.push(\"Mutation type 'delete' does not support property 'data'\");\n  }\n\n  const invalidKeys = Object.keys(query).filter(k => !validQueryKeys.includes(k));\n  invalidKeys.forEach(k => {\n    errors.push(\"Property \".concat(k, \" is not supported\"));\n  });\n  return errors;\n};\nconst validateResourceQueries = (queries, names = []) => {\n  if (names.length !== queries.length) {\n    for (let i = names.length; i < queries.length; ++i) {\n      names.push('query#' + i);\n    }\n  }\n\n  const errors = queries.reduce((errors, query, i) => errors.concat(getResourceQueryErrors('read', query).map(e => \"[\".concat(names[i], \"] \").concat(e))), []);\n\n  if (errors.length) {\n    throw new InvalidQueryError(errors);\n  }\n};\nconst validateResourceQuery = (type, query) => {\n  const errors = getResourceQueryErrors(type, query);\n\n  if (errors.length) {\n    throw new InvalidQueryError(errors);\n  }\n};\n\nconst reduceResponses = (responses, names) => responses.reduce((out, response, idx) => {\n  out[names[idx]] = response;\n  return out;\n}, {});\n\nclass DataEngine {\n  constructor(link) {\n    _defineProperty(this, \"link\", void 0);\n\n    this.link = link;\n  }\n\n  query(query, {\n    variables = {},\n    signal,\n    onComplete,\n    onError\n  } = {}) {\n    const names = Object.keys(query);\n    const queries = names.map(name => query[name]).map(q => resolveDynamicQuery(q, variables));\n    validateResourceQueries(queries, names);\n    return Promise.all(queries.map(q => {\n      return this.link.executeResourceQuery('read', q, {\n        signal\n      });\n    })).then(results => {\n      const data = reduceResponses(results, names);\n      onComplete && onComplete(data);\n      return data;\n    }).catch(error => {\n      onError && onError(error);\n      throw error;\n    });\n  }\n\n  mutate(mutation, {\n    variables = {},\n    signal,\n    onComplete,\n    onError\n  } = {}) {\n    const query = resolveDynamicQuery(mutation, variables);\n    const type = getMutationFetchType(mutation);\n    validateResourceQuery(type, query);\n    const result = this.link.executeResourceQuery(type, query, {\n      signal\n    });\n    return result.then(data => {\n      onComplete && onComplete(data);\n      return data;\n    }).catch(error => {\n      onError && onError(error);\n      throw error;\n    });\n  }\n\n}\n\nclass FetchError extends Error {\n  constructor({\n    message,\n    type,\n    details = {}\n  }) {\n    super(message);\n\n    _defineProperty(this, \"type\", void 0);\n\n    _defineProperty(this, \"details\", void 0);\n\n    this.type = type;\n    this.details = details;\n  }\n\n}\n\nclass CustomDataLink {\n  constructor(customData, {\n    failOnMiss = true,\n    loadForever = false\n  } = {}) {\n    _defineProperty(this, \"failOnMiss\", void 0);\n\n    _defineProperty(this, \"loadForever\", void 0);\n\n    _defineProperty(this, \"data\", void 0);\n\n    this.data = customData;\n    this.failOnMiss = failOnMiss;\n    this.loadForever = loadForever;\n  }\n\n  async executeResourceQuery(type, query, options) {\n    if (this.loadForever) {\n      return new Promise(() => undefined);\n    }\n\n    const customResource = this.data[query.resource];\n\n    if (!customResource) {\n      if (this.failOnMiss) {\n        throw new Error(\"No data provided for resource type \".concat(query.resource, \"!\"));\n      }\n\n      return Promise.resolve(null);\n    }\n\n    switch (typeof customResource) {\n      case 'string':\n      case 'number':\n      case 'boolean':\n      case 'object':\n        return customResource;\n\n      case 'function':\n        {\n          const result = await customResource(type, query, options);\n\n          if (typeof result === 'undefined' && this.failOnMiss) {\n            throw new Error(\"The custom function for resource \".concat(query.resource, \" must always return a value but returned \").concat(result));\n          }\n\n          return result || null;\n        }\n    }\n  }\n\n}\n\nclass ErrorLink {\n  constructor(errorMessage) {\n    _defineProperty(this, \"errorMessage\", void 0);\n\n    this.errorMessage = errorMessage;\n  }\n\n  executeResourceQuery() {\n    console.error(this.errorMessage);\n    return Promise.reject(this.errorMessage);\n  }\n\n}\n\nconst parseContentType = contentType => contentType ? contentType.split(';')[0].trim().toLowerCase() : '';\nconst parseStatus = async response => {\n  const accessError = response.status === 401 || response.status === 403 || response.status === 409;\n\n  if (accessError) {\n    let message;\n    let details = {};\n\n    try {\n      details = await response.json();\n      message = details.message;\n    } catch (e) {} // Do nothing\n    // Set a message in case of invalid json, or json without 'message' property\n\n\n    if (!message) {\n      message = response.status === 401 ? 'Unauthorized' : 'Forbidden';\n    }\n\n    throw new FetchError({\n      type: 'access',\n      message,\n      details\n    });\n  }\n\n  if (response.status < 200 || response.status >= 400) {\n    const message = \"An unknown error occurred - \".concat(response.statusText, \" (\").concat(response.status, \")\");\n    let details = {};\n\n    try {\n      details = await response.json();\n    } catch (e) {// We can leave details as is if parsing fails\n    }\n\n    throw new FetchError({\n      type: 'unknown',\n      message,\n      details\n    });\n  }\n\n  return response;\n};\nfunction fetchData(url, options = {}) {\n  return fetch(url, _objectSpread2(_objectSpread2({}, options), {}, {\n    credentials: 'include',\n    headers: _objectSpread2({\n      'X-Requested-With': 'XMLHttpRequest',\n      Accept: 'application/json'\n    }, options.headers)\n  })).catch(err => {\n    throw new FetchError({\n      type: 'network',\n      message: 'An unknown network error occurred',\n      details: err\n    });\n  }).then(parseStatus).then(async response => {\n    const contentType = parseContentType(response.headers.get('Content-Type')); // 'application/json'\n\n    if (contentType === 'application/json') {\n      return await response.json(); // Will throw if invalid JSON!\n    } // 'text/*'\n\n\n    if (/^text\\/[a-z0-9.-]+$/.test(contentType)) {\n      return await response.text();\n    }\n\n    return await response.blob();\n  });\n}\n\nconst joinPath = (...parts) => {\n  const realParts = parts.filter(part => !!part);\n  return realParts.map(part => part.replace(/^\\/+|\\/+$/g, '')).join('/');\n};\n\n/*\n * Requests that expect a \"text/plain\" Content-Type have been collected by scanning\n * the developer documentation:\n * https://docs.dhis2.org/master/en/developer/html/dhis2_developer_manual_full.html\n *\n * Note that currently it is not allowed to include an id property on a \"create\"\n * mutation object. This means that currently the `id` will always be included in\n * the resource property (string). If we decide to allow the `id` property for\n * \"create\" mutation-objects, we will have to include additional checks below.\n */\n// POST to `messageConversations/${id}` (reply to a messagConversation)\nconst isReplyToMessageConversation = (type, {\n  resource\n}) => {\n  const pattern = /^messageConversations\\/[a-zA-Z0-9]{11}$/;\n  return type === 'create' && pattern.test(resource);\n}; // POST to 'messageConversations/feedback' (create a feedback message)\n\nconst isCreateFeedbackMessage = (type, {\n  resource\n}) => type === 'create' && resource === 'messageConversations/feedback'; // POST or PUT to `interpretations/${objectType}/${id}` (add or update an interpretation)\n\nconst isCreateOrUpdateInterpretation = (type, {\n  resource,\n  id\n}) => {\n  if (type !== 'create' && type !== 'replace') {\n    return false;\n  }\n\n  let resourcePattern;\n\n  if (type === 'replace' && id) {\n    resourcePattern = /^interpretations\\/(?:reportTable|chart|visualization|map|eventReport|eventChart|dataSetReport)$/;\n    const idPattern = /^[a-zA-Z0-9]{11}$/;\n    return resourcePattern.test(resource) && idPattern.test(id);\n  }\n\n  resourcePattern = /^interpretations\\/(?:reportTable|chart|visualization|map|eventReport|eventChart|dataSetReport)\\/[a-zA-Z0-9]{11}$/;\n  return resourcePattern.test(resource);\n}; // POST to `interpretations/${id}/comments` (comment on an interpretation)\n\nconst isCommentOnInterpretation = (type, {\n  resource\n}) => {\n  const pattern = /^interpretations\\/[a-zA-Z0-9]{11}\\/comments$/;\n  return type === 'create' && pattern.test(resource);\n}; // PUT to `interpretations/${interpretationId}/comments/${commentId}`\n// (update an interpretation comment)\n\nconst isInterpretationCommentUpdate = (type, {\n  resource,\n  id\n}) => {\n  if (type !== 'replace') {\n    return false;\n  }\n\n  if (id) {\n    const idPatternLong = /^[a-zA-Z0-9]{11}\\/comments\\/[a-zA-Z0-9]{11}$/;\n    const idPatternShort = /^[a-zA-Z0-9]{11}$/;\n    const resourcePattern = /^interpretations\\/[a-zA-Z0-9]{11}\\/comments$/;\n    return resource === 'interpretations' && idPatternLong.test(id) || resourcePattern.test(resource) && idPatternShort.test(id);\n  }\n\n  const pattern = /^interpretations\\/[a-zA-Z0-9]{11}\\/comments\\/[a-zA-Z0-9]{11}$/;\n  return pattern.test(resource);\n}; // POST to `systemSettings/${settingKey}` or `userSettings/${settingKey}`\n// (add or update a single system or user setting)\n\nconst isAddOrUpdateSystemOrUserSetting = (type, {\n  resource\n}) => {\n  // At least 4 chars because the all start with 'key' (i.e. keyStyle)\n  const pattern = /^(?:systemSettings|userSettings)\\/[a-zA-Z]{4,}$/;\n  return type === 'create' && pattern.test(resource);\n}; // POST to `configuration/${configurationProperty}`\n// (add or update a single configuration property)\n\nconst addOrUpdateConfigurationProperty = (type, {\n  resource\n}) => {\n  // NOTE: The corsWhitelist property does expect \"application/json\"\n  const pattern = /^(configuration)\\/([a-zA-Z]{1,50})$/;\n  const match = resource.match(pattern);\n  return type === 'create' && !!match && match[2] !== 'corsWhitelist';\n}; // POST to 'synchronization/metadataPull' (install a metadata package)\n\nconst isMetadataPackageInstallation = (type, {\n  resource\n}) => type === 'create' && resource === 'synchronization/metadataPull';\n\nvar textPlainMatchers = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  isReplyToMessageConversation: isReplyToMessageConversation,\n  isCreateFeedbackMessage: isCreateFeedbackMessage,\n  isCreateOrUpdateInterpretation: isCreateOrUpdateInterpretation,\n  isCommentOnInterpretation: isCommentOnInterpretation,\n  isInterpretationCommentUpdate: isInterpretationCommentUpdate,\n  isAddOrUpdateSystemOrUserSetting: isAddOrUpdateSystemOrUserSetting,\n  addOrUpdateConfigurationProperty: addOrUpdateConfigurationProperty,\n  isMetadataPackageInstallation: isMetadataPackageInstallation\n});\n\n/*\n * Requests that expect a \"multipart/form-data\" Content-Type have been collected by scanning\n * the developer documentation:\n * https://docs.dhis2.org/master/en/developer/html/dhis2_developer_manual_full.html\n */\n// POST to 'fileResources' (upload a file resource)\nconst isFileResourceUpload = (type, {\n  resource\n}) => type === 'create' && resource === 'fileResources'; // POST to 'messageConversations/attachments' (upload a message conversation attachment)\n\nconst isMessageConversationAttachment = (type, {\n  resource\n}) => type === 'create' && resource === 'messageConversations/attachments'; // POST to `staticContent/${key}` (upload staticContent: logo_banner | logo_front)\n\nconst isStaticContentUpload = (type, {\n  resource\n}) => {\n  const pattern = /^staticContent\\/(?:logo_banner|logo_front)$/;\n  return type === 'create' && pattern.test(resource);\n}; // POST to 'apps' (install an app)\n\nconst isAppInstall = (type, {\n  resource\n}) => type === 'create' && resource === 'apps'; // POST to convert an SVG file\n\nconst isSvgConversion = (type, {\n  resource\n}) => type === 'create' && (resource === 'svg.png' || resource === 'svg.pdf');\n\nvar multipartFormDataMatchers = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  isFileResourceUpload: isFileResourceUpload,\n  isMessageConversationAttachment: isMessageConversationAttachment,\n  isStaticContentUpload: isStaticContentUpload,\n  isAppInstall: isAppInstall,\n  isSvgConversion: isSvgConversion\n});\n\nconst resourceExpectsTextPlain = (type, query) => Object.values(textPlainMatchers).some(textPlainMatcher => textPlainMatcher(type, query));\n\nconst resourceExpectsMultipartFormData = (type, query) => Object.values(multipartFormDataMatchers).some(multipartFormDataMatcher => multipartFormDataMatcher(type, query));\n\nconst FORM_DATA_ERROR_MSG = 'Could not convert data to FormData: object does not have own enumerable string-keyed properties';\n\nconst convertToFormData = data => {\n  const dataEntries = Object.entries(data);\n\n  if (dataEntries.length === 0) {\n    throw new Error(FORM_DATA_ERROR_MSG);\n  }\n\n  return dataEntries.reduce((formData, [key, value]) => {\n    formData.append(key, value);\n    return formData;\n  }, new FormData());\n};\n\nconst requestContentType = (type, query) => {\n  if (!query.data) {\n    return null;\n  }\n\n  if (resourceExpectsTextPlain(type, query)) {\n    return 'text/plain';\n  }\n\n  if (resourceExpectsMultipartFormData(type, query)) {\n    return 'multipart/form-data';\n  }\n\n  return 'application/json';\n};\nconst requestHeadersForContentType = contentType => {\n  /*\n   * Explicitely setting Content-Type to 'multipart/form-data' produces\n   * a \"multipart boundary not found\" error. By not setting a Content-Type\n   * the browser will correctly set it for us and also apply multipart\n   * boundaries if the request body is an instance of FormData\n   * See https://stackoverflow.com/a/39281156/1143502\n   */\n  if (!contentType || contentType === 'multipart/form-data') {\n    return undefined;\n  }\n\n  return {\n    'Content-Type': contentType\n  };\n};\nconst requestBodyForContentType = (contentType, {\n  data\n}) => {\n  if (typeof data === 'undefined') {\n    return undefined;\n  }\n\n  if (contentType === 'application/json') {\n    return JSON.stringify(data);\n  }\n\n  if (contentType === 'multipart/form-data') {\n    return convertToFormData(data);\n  } // 'text/plain'\n\n\n  return data;\n};\n\nconst getMethod = type => {\n  switch (type) {\n    case 'create':\n      return 'POST';\n\n    case 'read':\n      return 'GET';\n\n    case 'update':\n      return 'PATCH';\n\n    case 'replace':\n      return 'PUT';\n\n    case 'delete':\n      return 'DELETE';\n  }\n};\n\nconst queryToRequestOptions = (type, query, signal) => {\n  const contentType = requestContentType(type, query);\n  return {\n    method: getMethod(type),\n    body: requestBodyForContentType(contentType, query),\n    headers: requestHeadersForContentType(contentType),\n    signal\n  };\n};\n\nconst encodeQueryParameter = param => {\n  if (Array.isArray(param)) {\n    return param.map(encodeQueryParameter).join(',');\n  }\n\n  if (typeof param === 'string') {\n    return encodeURIComponent(param);\n  }\n\n  if (typeof param === 'number' || typeof param === 'boolean') {\n    return String(param);\n  }\n\n  if (typeof param === 'object') {\n    throw new Error('Object parameter mappings not yet implemented');\n  }\n\n  throw new Error('Unknown parameter type');\n};\n\nconst queryParametersMapToArray = params => Object.keys(params).reduce((out, key) => {\n  const value = params[key];\n\n  if (key === 'filter' && Array.isArray(value)) {\n    value.forEach(item => {\n      out.push({\n        key: 'filter',\n        value: item\n      });\n    });\n  } else if (params[key] !== null && params[key] !== undefined) {\n    out.push({\n      key,\n      value: params[key]\n    });\n  }\n\n  return out;\n}, []);\n\nconst queryParametersToQueryString = params => {\n  const expandedParams = queryParametersMapToArray(params);\n  return expandedParams.map(({\n    key,\n    value\n  }) => \"\".concat(encodeURIComponent(key), \"=\").concat(encodeQueryParameter(value))).join('&');\n};\n\nconst actionPrefix = 'action::';\n\nconst isAction = resource => resource.startsWith(actionPrefix);\n\nconst makeActionPath = resource => joinPath('dhis-web-commons', \"\".concat(resource.substr(actionPrefix.length), \".action\"));\n\nconst queryToResourcePath = (apiPath, {\n  resource,\n  id,\n  params = {}\n}) => {\n  const base = isAction(resource) ? makeActionPath(resource) : joinPath(apiPath, resource, id);\n\n  if (Object.keys(params).length) {\n    return \"\".concat(base, \"?\").concat(queryParametersToQueryString(params));\n  }\n\n  return base;\n};\n\nclass RestAPILink {\n  constructor({\n    baseUrl,\n    apiVersion\n  }) {\n    _defineProperty(this, \"apiPath\", void 0);\n\n    _defineProperty(this, \"baseUrl\", void 0);\n\n    _defineProperty(this, \"apiVersion\", void 0);\n\n    this.baseUrl = baseUrl;\n    this.apiVersion = apiVersion;\n    this.apiPath = joinPath('api', String(apiVersion));\n  }\n\n  fetch(path, options) {\n    return fetchData(joinPath(this.baseUrl, path), options);\n  }\n\n  executeResourceQuery(type, query, {\n    signal\n  }) {\n    return this.fetch(queryToResourcePath(this.apiPath, query), queryToRequestOptions(type, query, signal));\n  }\n\n}\n\nconst errorMessage = 'DHIS2 data context must be initialized, please ensure that you include a <DataProvider> in your application';\nconst link = new ErrorLink(errorMessage);\nconst engine = new DataEngine(link);\nconst defaultContext = {\n  engine\n};\n\nconst DataContext = React.createContext(defaultContext);\n\nconst CustomDataProvider = ({\n  children,\n  data,\n  options\n}) => {\n  const link = new CustomDataLink(data, options);\n  const engine = new DataEngine(link);\n  const context = {\n    engine\n  };\n  return /*#__PURE__*/React.createElement(DataContext.Provider, {\n    value: context\n  }, children);\n};\n\nconst useStaticInput = (staticValue, {\n  warn = false,\n  name = 'input'\n} = {}) => {\n  const originalValue = useRef(staticValue);\n  const [value, setValue] = useState(() => originalValue.current);\n  useEffect(() => {\n    if (warn && originalValue.current !== staticValue) {\n      console.warn(\"The \".concat(name, \" should be static, don't create it within the render loop!\"));\n    }\n  }, [warn, staticValue, originalValue, name]);\n  return [value, setValue];\n};\n\nconst useQueryExecutor = ({\n  execute,\n  variables: initialVariables,\n  singular,\n  immediate,\n  onComplete,\n  onError\n}) => {\n  const [theExecute] = useStaticInput(execute);\n  const [state, setState] = useState({\n    called: !!immediate,\n    loading: !!immediate\n  });\n  const variables = useRef(initialVariables);\n  const abortControllersRef = useRef([]);\n  const abort = useCallback(() => {\n    abortControllersRef.current.forEach(controller => controller.abort());\n    abortControllersRef.current = [];\n  }, []);\n  const manualAbort = useCallback(() => {\n    abort();\n    setState(state => ({\n      called: state.called,\n      loading: false,\n      error: new FetchError({\n        type: 'aborted',\n        message: 'Aborted'\n      })\n    }));\n  }, [abort]);\n  const refetch = useCallback((newVariables = {}) => {\n    setState(state => !state.called || !state.loading ? {\n      called: true,\n      loading: true\n    } : state);\n\n    if (singular) {\n      abort(); // Cleanup any in-progress fetches\n    }\n\n    const controller = new AbortController();\n    abortControllersRef.current.push(controller);\n    variables.current = _objectSpread2(_objectSpread2({}, variables.current), newVariables);\n    const options = {\n      variables: variables.current,\n      signal: controller.signal,\n      onComplete,\n      onError\n    };\n    return theExecute(options).then(data => {\n      if (!controller.signal.aborted) {\n        setState({\n          called: true,\n          loading: false,\n          data\n        });\n        return data;\n      }\n\n      return new Promise(() => undefined); // Wait forever\n    }).catch(error => {\n      if (!controller.signal.aborted) {\n        setState({\n          called: true,\n          loading: false,\n          error\n        });\n      }\n\n      return new Promise(() => undefined); // Don't throw errors in refetch promises, wait forever\n    });\n  }, [abort, onComplete, onError, singular, theExecute]); // Don't include immediate or refetch as deps, otherwise unintentional refetches\n  // may be triggered by changes to input, i.e. recreating the onComplete callback\n\n  useEffect(() => {\n    if (immediate) {\n      refetch();\n    }\n\n    return abort;\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return _objectSpread2({\n    refetch,\n    abort: manualAbort\n  }, state);\n};\n\nconst useDataEngine = () => {\n  const context = useContext(DataContext);\n  return context.engine;\n};\n\nconst empty = {};\nconst useDataMutation = (mutation, {\n  onComplete,\n  onError,\n  variables = empty,\n  lazy = true\n} = {}) => {\n  const engine = useDataEngine();\n  const [theMutation] = useStaticInput(mutation, {\n    warn: true,\n    name: 'mutation'\n  });\n  const execute = useCallback(options => engine.mutate(theMutation, options), [engine, theMutation]);\n  const {\n    refetch: mutate,\n    called,\n    loading,\n    error,\n    data\n  } = useQueryExecutor({\n    execute,\n    variables,\n    singular: false,\n    immediate: !lazy,\n    onComplete,\n    onError\n  });\n  return [mutate, {\n    engine,\n    called,\n    loading,\n    error,\n    data\n  }];\n};\n\nconst DataMutation = ({\n  mutation,\n  onComplete,\n  onError,\n  variables,\n  children\n}) => {\n  const mutationState = useDataMutation(mutation, {\n    onComplete,\n    onError,\n    variables\n  });\n  return children(mutationState);\n};\n\nconst DataProvider = props => {\n  const config = _objectSpread2(_objectSpread2({}, useConfig()), props);\n\n  const link = new RestAPILink(config);\n  const engine = new DataEngine(link);\n  const context = {\n    engine\n  };\n  return /*#__PURE__*/React.createElement(DataContext.Provider, {\n    value: context\n  }, props.children);\n};\n\nconst empty$1 = {};\nconst useDataQuery = (query, {\n  onComplete,\n  onError,\n  variables = empty$1,\n  lazy = false\n} = {}) => {\n  const engine = useDataEngine();\n  const [theQuery] = useStaticInput(query, {\n    warn: true,\n    name: 'query'\n  });\n  const execute = useCallback(options => engine.query(theQuery, options), [engine, theQuery]);\n  const {\n    refetch,\n    called,\n    loading,\n    error,\n    data\n  } = useQueryExecutor({\n    execute,\n    variables,\n    singular: true,\n    immediate: !lazy,\n    onComplete,\n    onError\n  });\n  return {\n    engine,\n    refetch,\n    called,\n    loading,\n    error,\n    data\n  };\n};\n\nconst DataQuery = ({\n  query,\n  onComplete,\n  onError,\n  variables,\n  lazy,\n  children\n}) => {\n  const queryState = useDataQuery(query, {\n    onComplete,\n    onError,\n    variables,\n    lazy\n  });\n  return children(queryState);\n};\n\nexport { CustomDataProvider, DataMutation, DataProvider, DataQuery, useDataEngine, useDataMutation, useDataQuery };\n//# sourceMappingURL=lib.js.map\n","/* eslint-disable */\nimport React, { useState, useContext } from 'react';\n\nconst AlertsContext = React.createContext([]);\n\nconst noop = () => {\n  /* Do nothing */\n};\n\nconst defaultAlertsManager = {\n  remove: noop,\n  add: noop\n};\nconst AlertsManagerContext = React.createContext(defaultAlertsManager);\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nconst createAlertManagerAlert = (alert, id, _remove) => _objectSpread2(_objectSpread2({}, alert), {}, {\n  id,\n  remove: () => _remove(id)\n});\n\nconst makeAlertsManager = setAlerts => {\n  let id = 0;\n\n  const remove = id => {\n    setAlerts(alerts => alerts.filter(alert => alert.id !== id));\n  };\n\n  const add = alert => {\n    setAlerts(alerts => [...alerts, createAlertManagerAlert(alert, ++id, remove)]);\n  };\n\n  return {\n    remove,\n    add\n  };\n};\n\nconst AlertsProvider = ({\n  children\n}) => {\n  const [alerts, setAlerts] = useState([]);\n  const [alertsManager] = useState(() => makeAlertsManager(setAlerts));\n  return /*#__PURE__*/React.createElement(AlertsManagerContext.Provider, {\n    value: alertsManager\n  }, /*#__PURE__*/React.createElement(AlertsContext.Provider, {\n    value: alerts\n  }, children));\n};\n\nconst useAlerts = () => {\n  return useContext(AlertsContext);\n};\n\nconst useAlert = (message, options = {}) => {\n  const alertsManager = useContext(AlertsManagerContext);\n\n  const show = props => {\n    const resolvedMessage = String(typeof message === 'function' ? message(props) : message);\n    const resolvedOptions = typeof options === 'function' ? options(props) : options;\n    const alert = {\n      message: resolvedMessage,\n      options: resolvedOptions\n    };\n    alertsManager.add(alert);\n  };\n\n  return {\n    show\n  };\n};\n\nexport { AlertsProvider, useAlert, useAlerts };\n//# sourceMappingURL=lib.js.map\n","/* eslint-disable */\nimport { DataProvider } from '@dhis2/app-service-data';\nexport { CustomDataProvider, DataMutation, DataProvider, DataQuery, useDataEngine, useDataMutation, useDataQuery } from '@dhis2/app-service-data';\nimport { ConfigProvider } from '@dhis2/app-service-config';\nexport { useConfig } from '@dhis2/app-service-config';\nimport { AlertsProvider } from '@dhis2/app-service-alerts';\nexport { useAlert, useAlerts } from '@dhis2/app-service-alerts';\nimport React from 'react';\n\nconst Provider = ({\n  config,\n  children\n}) => /*#__PURE__*/React.createElement(ConfigProvider, {\n  config: config\n}, /*#__PURE__*/React.createElement(AlertsProvider, null, /*#__PURE__*/React.createElement(DataProvider, null, children)));\nProvider.displayName = 'DHIS2RuntimeProvider';\n\nexport { Provider };\n//# sourceMappingURL=lib.js.map\n","module.exports = __WEBPACK_EXTERNAL_MODULE__297__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(117);\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};"],"sourceRoot":""}